# æŠ–éŸ³å¿«æ‰‹bilibiliç›´æ’­å¼¹å¹•wssç›´è¿ž

## é¡¹ç›®ä»‹ç»

æŠ–éŸ³/å¿«æ‰‹/bilibibli/æ–—é±¼/Acfun/è™Žç‰™/YY/æˆ˜æ——/èŠ±æ¤’ç­‰ç›´æ’­é—´å¼¹å¹•ï¼Œwssç›´è¿žï¼Œéžç³»ç»Ÿä»£ç†æ–¹å¼ï¼Œæ— éœ€å¤šå¼€æµè§ˆå™¨çª—å£ï¼Œä¸”èŽ·å–åˆ°å¼¹å¹•æ•°æ®åŽè‡ªå®šä¹‰è½¬å‘ã€‚

**ï¼ˆ2024å¹´2æœˆ29æ—¥12:42ï¼Œæœ¬ç¨‹åºæµ‹è¯•ï¼šæ­£å¸¸ï¼‰**

2024-02-23ï¼Œå®ŒæˆæŠ–éŸ³å¼¹å¹•ç›‘å¬åŠŸèƒ½ï¼ŒæŽ¥ä¸‹æ¥å¼€å‘å¿«æ‰‹çš„ï¼Œæ•¬è¯·æœŸå¾…~

## æ”¯æŒå¹³å°

* [X] æŠ–éŸ³
* [ ] å¿«æ‰‹
* [ ] bilibili
* [ ] æ–—é±¼
* [ ] Acfun
* [ ] è™Žç‰™

## æ•ˆæžœå›¾

![1708675656494](Screenshots/README/1708675656494.png)

## è½¯ä»¶æž¶æž„

### **1.å¼€å‘&è¿è¡ŒçŽ¯å¢ƒ**

1).åŸºäºŽ.NET 8.0å¼€å‘ï¼Œæœ€ä½Žæ”¯æŒWin7 SP1ç³»ç»Ÿè¿è¡Œï¼ˆæ›´å¤š.NETç‰ˆæœ¬ä¸ŽWindowsç³»ç»Ÿæ”¯æŒå…³ç³»ï¼Œè¯·æŸ¥çœ‹ï¼š[https://www.newlifex.com/tech/os_net](https://www.newlifex.com/tech/os_net)ï¼‰ã€‚

2).MacOSæš‚ä¸æ”¯æŒï¼ŒåŽé¢ä¼šç”¨MAUIåšé€‚é…å¤„ç†

### **2.ä½¿ç”¨æŠ€æœ¯(nugetåŒ…)**

1).ä¼ è¾“åè®®ï¼š**Google.Protobuf**ï¼Œä¼ é€é—¨ï¼š[https://github.com/protocolbuffers/protobuf](https://github.com/protocolbuffers/protobuf)

2).WebSocketæœåŠ¡å™¨ï¼š**Fleck**ï¼Œä¼ é€é—¨ï¼š[https://github.com/statianzo/Fleck](https://github.com/statianzo/Fleck)

3).WebSocketå®¢æˆ·ç«¯ï¼š**System.Net.WebSockets**ï¼Œä¼ é€é—¨ï¼š[https://learn.microsoft.com/zh-cn/dotnet/api/system.net.websockets.websocket?view=net-8.0](https://learn.microsoft.com/zh-cn/dotnet/api/system.net.websockets.websocket?view=net-8.0)

4).Restè¯·æ±‚ï¼š**RestSharp**ï¼Œä¼ é€é—¨ï¼š[https://restsharp.dev](https://restsharp.dev)

5).Jsonåºåˆ—/ååºåˆ—åŒ–ï¼š**Newtonsoft.Json**ï¼Œä¼ é€é—¨ï¼š[https://www.newtonsoft.com/json](https://www.newtonsoft.com/json)

## ä½¿ç”¨è¯´æ˜Ž

1. å®‰è£….NET 8.0è¿è¡ŒçŽ¯å¢ƒï¼Œå®˜æ–¹ä¸‹è½½åœ°å€ï¼š[https://dotnet.microsoft.com/zh-cn/download/dotnet/latest](https://dotnet.microsoft.com/zh-cn/download/dotnet/latest)
2. å®‰è£…VisualStudio 2022ï¼Œå¹¶å‡çº§åˆ° **17.8+** ç‰ˆæœ¬ï¼š
   ![1707030742844](Screenshots/README/1707030742844.png)
3. ç”¨WebSocketå®¢æˆ·ç«¯ï¼Œè¿žæŽ¥åˆ° `ws://127.0.0.1:8888`ï¼Œæ‚¨ä¹Ÿå¯ä»¥è¯•ç”¨åœ¨çº¿è¿žæŽ¥å·¥å…·ï¼š[https://wstool.js.org](https://wstool.js.org)ï¼Œæ•ˆæžœå¦‚å›¾æ‰€ç¤ºï¼š

   ![1707850602688](Screenshots/README/1707850602688.png)

## æ¶ˆæ¯ä½“æ³¨è§£

### ä¸€ã€æŠ–éŸ³

#### 1.è¿›å…¥æˆ¿é—´

```json
{
	"Type": 1,
	"Data": {
		"MemberCount": 6438,
		"MsgId": 7338701468109681418,
		"User": {
			"FollowingCount": 269,
			"Id": 101685213389,
			"ShortId": 1196943920,
			"DisplayId": "1196943920",
			"NickName": "å°é“­.",
			"Level": 0,
			"PayLevel": 0,
			"Gender": 1,
			"Birthday": 0,
			"Telephone": null,
			//å¦‚æžœå¤´åƒéœ€è¦æ›´å¤§çš„å›¾ç‰‡ï¼Œå¯ä»¥å°†urlä¸­çš„100x100ï¼Œæ›¿æ¢ä¸º200x200
			"Avatar": "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oIxcMIzDAm9MAQkIKCelAmCngoCeAA5ZbkTAaI.jpeg?from=3067671334",
			"SecUid": "MS4wLjABAAAA0MIs0Ia9g0qJgNLjbb6Ui21F7-kN6linqTJ0SlrxbpE",
			"FansClub": {
				"ClubName": "",
				"Level": 0
			},
			"FollowerCount": 23,
			"FollowStatus": 1
		},
		"Content": "å°é“­. æ¥äº†",
		"RoomId": 7338688640757009202
	}
}
```

#### 2.å…³æ³¨

```json
{
	"Type": 2,
	"Data": {
		"MsgId": 7338701469288500020,
		"User": {
			"FollowingCount": 217,
			"Id": 70182119246,
			"ShortId": 4125395366,
			"DisplayId": "dyi9z7nn8swe",
			"NickName": "â™¥",
			"Level": 0,
			"PayLevel": 0,
			"Gender": 0,
			"Birthday": 0,
			"Telephone": null,
			"Avatar": "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_892bdf2e00db4753991ecb8348ef25c5.jpeg?from=3067671334",
			"SecUid": "MS4wLjABAAAA3XBoQKvXh1VIONd6G4edMhwXt2o_bsJQsL-j1g4nN5E",
			"FansClub": {
				"ClubName": "",
				"Level": 0
			},
			"FollowerCount": 9,
			"FollowStatus": 1
		},
		"Content": "â™¥ å…³æ³¨äº†ä¸»æ’­",
		"RoomId": 7338688640757009202
	}
}
```

#### 3.å¼¹å¹•

```json
{
	"Type": 3,
	"Data": {
		"MsgId": 7338697347818230818,
		"User": {
			"FollowingCount": 134,
			"Id": 1411400097607259,
			"ShortId": 2200868407,
			"DisplayId": "2200868407",
			"NickName": "é›…é¦¨ðŸ’…",
			"Level": 0,
			"PayLevel": 30,
			"Gender": 2,
			"Birthday": 0,
			"Telephone": null,
			"Avatar": "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oUHIAzME2AfjA31NAgFUpNymZDeA6AayhIsCAo.jpeg?from=3067671334",
			"SecUid": "MS4wLjABAAAAxKx07UstZBmcpNz4vr4r8pRbq5PYRcP98mI--SQx0c7fHVa7pmMCYFdvnlgmivty",
			"FansClub": {
				"ClubName": "ç†Šå®¶äºº",
				"Level": 8
			},
			"FollowerCount": 325,
			"FollowStatus": 2
		},
		"Content": "æµé‡å‘¢",
		"RoomId": 7338657973104921378
	}
}
```

#### 4.ç‚¹èµž

```json
{
	"Type": 4,
	"Data": {
		"Count": 5,
		"Total": 418060,
		"MsgId": 7338697335486453772,
		"User": {
			"FollowingCount": 2885,
			"Id": 101385281892,
			"ShortId": 1173935310,
			"DisplayId": "1173935310",
			"NickName": "ç§èŠ±çš„ä¸ä¹°å¼ åˆ€ï¼ˆæ¨æ¸…ï¼‰",
			"Level": 0,
			"PayLevel": 19,
			"Gender": 0,
			"Birthday": 0,
			"Telephone": null,
			"Avatar": "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_1c9f300069de5b1a41303.jpeg?from=3067671334",
			"SecUid": "MS4wLjABAAAA2QEhMnB1rX4ePA7iQ9SQ1805lEcxeBQOQ5SBAysazAU",
			"FansClub": {
				"ClubName": "ç†Šå®¶äºº",
				"Level": 13
			},
			"FollowerCount": 277,
			"FollowStatus": 1
		},
		"Content": "ç§èŠ±çš„ä¸ä¹°å¼ åˆ€ï¼ˆæ¨æ¸…ï¼‰ ä¸ºä¸»æ’­ç‚¹äº†5ä¸ªèµžï¼Œæ€»ç‚¹èµž418060",
		"RoomId": 7338657973104921378
	}
}
```

#### 5.ç¤¼ç‰©

```json
{
	"Type": 5,
	"Data": {
		"GiftId": 2002,
		"GiftName": "å¤§å•¤é…’",
		"GroupId": 0,
		"GiftCount": 1,
		"RepeatCount": 0,
		"DiamondCount": 2,
		"ToUser": null,
		"MsgId": 7338697242632999936,
		"User": {
			"FollowingCount": 5828,
			"Id": 75473804556,
			"ShortId": 122703863,
			"DisplayId": "122703863",
			"NickName": "æ¸©é¦¨â¤ï¸çš„æ¸¯æ¹¾ðŸ’¤",
			"Level": 1,
			"PayLevel": 32,
			"Gender": 2,
			"Birthday": 0,
			"Telephone": null,
			"Avatar": "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_e683277c719241259afb241932527869.jpeg?from=3067671334",
			"SecUid": "MS4wLjABAAAAyBD6W4wd1UfvQQahxuhX8fOZxtH2TxdjHzH6y1-xyJw",
			"FansClub": {
				"ClubName": "ç†Šå®¶äºº",
				"Level": 3
			},
			"FollowerCount": 511,
			"FollowStatus": 0
		},
		"Content": "æ¸©é¦¨â¤ï¸çš„æ¸¯æ¹¾ðŸ’¤ é€å‡º å¤§å•¤é…’ x 1 ä¸ª",
		"RoomId": 7338657973104921378
	}
}
```

#### 6.åˆ†äº«

(ç•¥)

#### 7.ç»Ÿè®¡

```json
{
	"Type": 7,
	"Data": {
		"OnlineUserCount": 3937,
		"TotalUserCount": 269277,
		"TotalUserCountStr": "26.9ä¸‡",
		"OnlineUserCountStr": "3937",
		"MsgId": 7338699901570204223,
		"User": null,
		"Content": "å½“å‰ç›´æ’­é—´äººæ•° 3937ï¼Œç´¯è®¡ç›´æ’­é—´äººæ•° 26.9ä¸‡",
		"RoomId": 7338657973104921378
	}
}
```

#### 8.ç›´æ’­é—´çŠ¶æ€å˜æ›´

```json
{
	"Type": 8,
	"Data": {
		"MsgId": 7338700002526595855,
		"User": null,
		"Content": "ç›´æ’­å·²ç»“æŸ",
		"RoomId": 7338657973104921378
	}
}
```

#### 9.ç²‰ä¸å›¢

```json
{
	"Type": 9,
	"Data": {
		"Type": 2,
		"Level": 1,
		"MsgId": 7338703879909034779,
		"User": {
			"FollowingCount": 19,
			"Id": 770085205058926,
			"ShortId": 42194476251,
			"DisplayId": "42194476251",
			"NickName": "å‡ºç”ŸçŽ©å®‰çªæ‹‰èŠ±æœ¨å…°",
			"Level": 0,
			"PayLevel": 8,
			"Gender": 0,
			"Birthday": 0,
			"Telephone": null,
			"Avatar": "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_5b72dfa27936366907d942cd5dbb62e3.jpeg?from=3067671334",
			"SecUid": "MS4wLjABAAAAzHDOEn6mMGfto0moTJcFr3GkwaePeCKE1tigww0PDO0",
			"FansClub": {
				"ClubName": "é¡¶å‘±å‘±",
				"Level": 1
			},
			"FollowerCount": 1,
			"FollowStatus": 0
		},
		"Content": "æ­å–œ å‡ºç”ŸçŽ©å®‰çªæ‹‰èŠ±æœ¨å…° æˆä¸ºç²‰ä¸å›¢ç¬¬165725åæˆå‘˜",
		"RoomId": 7338688640757009202
	}
}
```

## å£°æ˜Ž

1. è¦ç”¨æœ¬é¡¹ç›®çš„ï¼Œå¼ºçƒˆæœŸç›¼ç»™ä½œè€…æ¯”ä¸ªå°å¿ƒå¿ƒï¼Œè°¢è°¢ï¼Œä½ ä»¬çš„staræ˜¯æˆ‘çš„åŠ¨åŠ›ï¼
2. æœ¬å¼€æºä»£ç ï¼Œçµæ„Ÿæºè‡ªäºŽåŽŸgithubä¸Šçš„pythoné¡¹ç›®å®žçŽ°ï¼š[https://github.com/saermart/DouyinLiveWebFetcher](https://github.com/saermart/DouyinLiveWebFetcher)
3. æœ¬äººåªæ˜¯ç”¨C#é‡æž„ä¸€éå·²ç»å­˜åœ¨çš„æŠ€æœ¯å’Œæ–¹æ¡ˆï¼Œä¸ºäº†æ–¹ä¾¿åœ¨windowså’Œmacosä¸Šç›´æŽ¥çª—ä½“è¿è¡Œï¼Œæ‰€ä»¥ä½ ä»¬è¦æ‹¿åŽ»å¹²å˜›ï¼Œä¸Žæœ¬äººæ— å…³ï¼
4. æœ¬äººéƒ‘é‡å£°æ˜Žï¼šæœ¬ä»£ç åº“æ‰€æœ‰ä»£ç å‡åªç”¨äºŽå­¦ä¹ ç ”ç©¶äº¤æµï¼Œä¸¥ç¦ç”¨äºŽåŒ…æ‹¬ä½†ä¸é™äºŽå•†ä¸šè°‹åˆ©ã€ç ´åç³»ç»Ÿã€ç›—å–ä¸ªäººä¿¡æ¯ç­‰ä¸è‰¯ä¸æ³•è¡Œä¸ºï¼
5. æœ¬äººå¼ºçƒˆè°´è´£ï¼šè¿åæœ¬äººå£°æ˜Žï¼ŒåŠä½¿ç”¨æ‰€äº§ç”Ÿçš„ä¸€åˆ‡åŽæžœå‡ç”±è¿åå£°æ˜Žä½¿ç”¨è€…æ‰¿æ‹…ï¼
6. ä¾µæƒæˆ–æ¶‰åŠç›¸å…³åˆ©ç›Šè¯·è”ç³»æˆ‘ï¼Œå¾®ä¿¡ï¼š**xhhdqq**
7. ![1707033446516](Screenshots/README/1707033446516.png)

## å…³äºŽæœ¬äºº

1. 10å¹´C#å¼€å‘
2. 7å¹´Javaå¼€å‘
3. 5å¹´å‰ç«¯å¼€å‘
4. åæ¥å¹´å„å¤§æ”¿åºœã€ä¼ä¸šç­‰ç›¸å…³å·¥ä½œã€äº¤æµç»éªŒ
5. çŽ°åœ¨åœ¨æžpythonå’Œå’Œäººå·¥æ™ºèƒ½
6. çˆ±å¥½æžç¨‹åºï¼Œä»€ä¹ˆé¡¹ç›®éƒ½èƒ½åšï¼Œæ‰€ä»¥ï¼Œåšé¡¹ç›®æ‰¾æˆ‘ï¼Œç»™ä½ è§£å†³æ–¹æ¡ˆï¼ï¼ï¼

## åŽç»­

1. æœ¬äººåœ¨åšä¸€æ¬¾ç›´æ’­ç›’å­ï¼Œè¾…åŠ©ç›´æ’­ç”¨çš„ï¼Œå®žçŽ°åŠ/å…¨æ— äººç›´æ’­ï¼ŒåŒ…å«ï¼šè§†é¢‘å®žæ—¶æ¢è„¸ï¼ŒéŸ³é¢‘å®žæ—¶æ¢è‰²ï¼Œæ‰‹æœºè¿œç¨‹æŽ§åˆ¶å¼€æ’­æƒ…å†µï¼Œç›´æ’­ç‰¹æ•ˆã€ç›´æ’­æ¸¸æˆç­‰ï¼Œæ•¬è¯·æœŸå¾…ï¼
2. è¯šé‚€ä¼šæŽ¨å¹¿çš„æœ‹å‹ï¼Œä¼šåšå°æ¸¸æˆçš„æœ‹å‹ï¼ˆä¸ç®¡webè¿˜æ˜¯pcç«¯ï¼‰ï¼ŒæŽ¥å…¥æˆ‘çš„ç›´æ’­ç›’å­ï¼Œç»Ÿä¸€æŽˆæƒï¼Œç»Ÿä¸€æŽ¥å…¥å¼¹å¹•ï¼Œæˆ‘ä»¬ä¸€èµ·æŠŠç”Ÿæ€åšèµ·æ¥ã€‚
3. å¦‚æžœä½ ä¸ä¼šæŠ€æœ¯ï¼Œæžç›´æ’­ä¹Ÿè¡Œï¼Œæ¬¢è¿Ž

## äº¤æµ

1. æœ¬ä»“åº“ä»£ç å®Œå…¨å¼€æº
2. æ¬¢è¿Žå°ä¼™ä¼´ä¸€èµ·ç»´æŠ¤æœ¬ä»“åº“
3. æœ‰ä¸šåŠ¡é—®é¢˜ï¼Œæ·»åŠ æœ¬äººå¾®ä¿¡ï¼š**xhhdqq**
4. æœ‰æŠ€æœ¯é—®é¢˜ï¼Œä»¥åŠæŠ€æœ¯äº¤æµï¼Œå¯åŠ å…¥QQç¾¤èŠï¼š**171358793**

   ![1707033659294](Screenshots/README/1707033659294.png)

   The End.

## ä»£ç ç‰ˆæœ¬

* 2024.02.23ï¼šv1.0.0

  > 1.å®Œæˆï¼š[æŠ–éŸ³]ç›´æ’­é—´æ¶ˆæ¯è§„èŒƒï¼›
  >

  > 2.ä¿®æ”¹ï¼šæž¶æž„ä¼˜åŒ–ï¼›
  >
* 2024.02.14ï¼šv0.6.0

  > 1.æ·»åŠ ï¼šè§„èŒƒ[æŠ–éŸ³]è¿›å…¥ç›´æ’­é—´æ¶ˆæ¯æ•°æ®æ ¼å¼ï¼›
  >

  > 2.ä¿®æ”¹ï¼šæž¶æž„è°ƒæ•´ï¼Œä¼˜åŒ–ä»£ç ï¼›
  >
* 2024.02.06ï¼šv0.5.0

  > 1.æ·»åŠ ï¼šæŠ–éŸ³å¼¹å¹•æŠ“å–æœåŠ¡ï¼Œwssç›´è¿žï¼›
  >

  > 2.æ·»åŠ ï¼šæœ¬åœ°WebSocketæœåŠ¡ï¼Œç›‘å¬ä»»æ„IPï¼Œ8888ç«¯å£ï¼›
  >
